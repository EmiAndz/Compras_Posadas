        <!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tienda - Compras Posadas</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <div class="topbar__wrap">
      <a class="brand" href="index.html">
        <span class="logo-icon"></span>
        <span class="brand__name"><strong>Compras</strong> Posadas</span>
      </a>
      <form class="search" role="search" aria-label="Buscar productos" id="searchForm">
        <div class="search__container">
          <div class="search__input-wrapper">
            <input 
              type="search" 
              placeholder="Buscar productos en esta tienda..." 
              aria-label="Buscar productos en la tienda"
              id="searchInput"
              autocomplete="off"
            />
            <button type="button" class="search__clear-btn" id="clearSearchBtn" aria-label="Limpiar b√∫squeda" style="display: none;">
              <span>√ó</span>
            </button>
            <button type="submit" class="btn-icon" aria-label="Buscar">
              <svg width="20" height="20" viewBox="0 0 22 22" fill="none">
                <circle cx="10" cy="10" r="8" stroke="#fff" stroke-width="2"/>
                <line x1="16" y1="16" x2="21" y2="21" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
          
          <!-- Dropdown de sugerencias debajo del input -->
          <div class="search__dropdown" id="searchDropdown" style="display: none;">
            <div class="search__suggestion-item" id="searchSuggestion">
              <span class="search__suggestion-text" id="suggestionText"></span>
              <div class="search__loading" id="searchLoading" style="display: none;">
                <div class="search__spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <nav class="actions">
        <button id="btnWishlist" class="action-btn wishlist-btn" aria-haspopup="true" aria-controls="wishlistDrawer" aria-expanded="false">
          <span class="icon-heart" aria-hidden="true">‚ô•</span>
          Lista deseos
          <span id="wlCount" class="badge">0</span>
        </button>
        <button type="button" class="action-btn" id="btnLogin">Iniciar sesi√≥n</button>
      </nav>
    </div>
  </header>

  <!-- Navegaci√≥n breadcrumb -->
  <nav class="breadcrumb" aria-label="Navegaci√≥n breadcrumb">
    <div class="breadcrumb__container">
      <a href="index.html" class="breadcrumb__item">Inicio</a>
      <span class="breadcrumb__separator">‚Ä∫</span>
      <a href="tiendas.html" class="breadcrumb__item">Tiendas</a>
      <span class="breadcrumb__separator">‚Ä∫</span>
      <span id="storeBreadcrumb" class="breadcrumb__item breadcrumb__item--current">Cargando...</span>
    </div>
  </nav>

  <div class="container">
    <!-- Loading state -->
    <div id="vendorLoading" class="vendor-loading">
      <div class="vendor-loading__skeleton">
        <div class="vendor-loading__header"></div>
        <div class="vendor-loading__info"></div>
        <div class="vendor-loading__products"></div>
      </div>
    </div>

    <!-- Error state -->
    <div id="vendorError" class="vendor-error" style="display: none;">
      <div class="vendor-error__content">
        <h1>üòî Tienda no encontrada</h1>
        <p>Lo sentimos, no pudimos encontrar la tienda que buscas.</p>
        <a href="tiendas.html" class="btn btn-primary">Ver todas las tiendas</a>
      </div>
    </div>

    <!-- Main content -->
    <div id="vendorContent" style="display: none;">
      <!-- Store header -->
      <section class="vendor-header">
        <div class="vendor-header__content">
          <div class="vendor-header__logo">
            <div id="storeLogo" class="vendor-header__logo-placeholder"></div>
          </div>
          
          <div class="vendor-header__info">
            <div class="vendor-header__main">
              <h1 id="storeName" class="vendor-header__name"></h1>
              <p id="storeAlias" class="vendor-header__alias" style="display: none;"></p>
              <div id="storeCategories" class="vendor-header__categories"></div>
            </div>
            
            <div class="vendor-header__meta">
              <div class="vendor-header__rating">
                <span id="storeRating" class="vendor-header__stars"></span>
                <span id="storeRatingValue" class="vendor-header__rating-value"></span>
              </div>
              <span id="storeNeighborhood" class="vendor-header__neighborhood"></span>
              <div id="storeStatus" class="vendor-header__status"></div>
            </div>

            <div class="vendor-header__description">
              <p id="storeDescription"></p>
            </div>
          </div>
        </div>

        <!-- Store actions -->
        <div class="vendor-header__actions">
          <button id="contactWhatsApp" class="vendor-action-btn vendor-action-btn--whatsapp" style="display: none;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.598z" fill="currentColor"/>
            </svg>
            Contactar por WhatsApp
          </button>
          
          <button id="viewOnMaps" class="vendor-action-btn vendor-action-btn--maps">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
            </svg>
            Ver ubicaci√≥n
          </button>
        </div>
      </section>

      <!-- Products section -->
      <section class="vendor-products">
        <div class="vendor-products__header">
          <h2 class="vendor-products__title">Productos de la tienda</h2>
          <div id="searchResults" class="vendor-products__search-results" style="display: none;">
            <span id="searchResultsText"></span>
            <button id="clearSearch" class="btn btn-ghost btn-sm">Limpiar b√∫squeda</button>
          </div>
          <div class="vendor-products__filters">
            <select id="categoryFilter" class="vendor-filter__select" aria-label="Filtrar por categor√≠a">
              <option value="">Todas las categor√≠as</option>
            </select>
            <select id="sortFilter" class="vendor-filter__select" aria-label="Ordenar productos">
              <option value="name">Nombre (A-Z)</option>
              <option value="price-asc">Precio menor a mayor</option>
              <option value="price-desc">Precio mayor a menor</option>
              <option value="newest">M√°s recientes</option>
            </select>
          </div>
        </div>

        <!-- Products loading -->
        <div id="productsLoading" class="products-loading">
          <div class="products-grid">
            <div class="product-card product-card--skeleton">
              <div class="product-card__skeleton"></div>
            </div>
            <div class="product-card product-card--skeleton">
              <div class="product-card__skeleton"></div>
            </div>
            <div class="product-card product-card--skeleton">
              <div class="product-card__skeleton"></div>
            </div>
          </div>
        </div>

        <!-- Products grid -->
        <div id="productsGrid" class="products-grid" style="display: none;">
          <!-- Products will be rendered here -->
        </div>

        <!-- Empty products state -->
        <div id="emptyProducts" class="products-empty" style="display: none;">
          <div class="products-empty__content">
            <h3>No hay productos disponibles</h3>
            <p>Esta tienda a√∫n no ha agregado productos a su cat√°logo.</p>
          </div>
        </div>

        <!-- Products pagination -->
        <div id="productsPagination" class="products-pagination" style="display: none;">
          <button id="prevProductsPage" class="products-pagination__btn" disabled>‚Äπ Anterior</button>
          <span id="productsPageInfo" class="products-pagination__info">P√°gina 1 de 1</span>
          <button id="nextProductsPage" class="products-pagination__btn" disabled>Siguiente ‚Ä∫</button>
        </div>
      </section>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer__wrap">
      ¬© 2025 Compras Posadas ‚Äî Hecho para comparar precios en Posadas, Misiones.
    </div>
  </footer>

  <!-- Modal de Login -->
  <div id="loginModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="loginTitle" aria-hidden="true">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__card">
      <header class="modal__header">
        <h2 id="loginTitle">Iniciar sesi√≥n</h2>
        <button class="modal__close" type="button" aria-label="Cerrar" data-close>√ó</button>
      </header>
      <form id="loginForm" class="modal__body" novalidate>
        <label>Email
          <input type="email" name="email" placeholder="tu@email.com" required />
        </label>
        <label>Contrase√±a
          <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" minlength="6" required />
        </label>
        <button id="loginSubmit" class="btn btn-primary" type="submit">Ingresar</button>
        <div class="modal__links">
          <button type="button" class="link" id="forgotPass">¬øOlvidaste tu contrase√±a?</button>
          <button type="button" class="link" id="createAccount">Crear cuenta</button>
        </div>
        <div class="modal__oauth">
          <button type="button" class="btn btn-ghost" id="loginGoogle">Continuar con Google</button>
          <small class="hint">* Google se activar√° cuando conectemos Supabase</small>
        </div>
        <p id="loginError" class="form-error" role="alert" hidden></p>
      </form>
    </div>
  </div>

  <!-- Lista de deseos (Drawer) -->
  <aside id="wishlistDrawer" class="wl-drawer" aria-hidden="true" aria-label="Lista de deseos">
    <div class="wl-backdrop" data-close></div>
    <section class="wl-panel">
      <header class="wl-header">
        <h3>Lista de deseos</h3>
        <button class="wl-close" type="button" aria-label="Cerrar" data-close>√ó</button>
      </header>
      <div id="wlList" class="wl-list" role="list"></div>
      <footer class="wl-footer">
        <button id="wlClear" class="btn btn-ghost">Vaciar lista</button>
      </footer>
    </section>
  </aside>

  <!-- Supabase SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  
  <!-- Scripts de la aplicaci√≥n -->
  <script src="assets/js/config/supabase.js"></script>
  <script src="assets/js/global-search.js"></script>
  <script src="assets/js/services/storeService.js"></script>
  <script src="assets/js/services/productService.js"></script>
  <script src="assets/js/services/categoryService.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="assets/js/vendor.js"></script>
</body>
</html>